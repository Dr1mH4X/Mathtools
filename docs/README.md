# MathTools â€” é¡¹ç›®æ¶æ„æ–‡æ¡£

> äº¤äº’å¼æ•°å­¦å¯è§†åŒ–å·¥å…·ç½‘ç«™ï¼Œä½¿ç”¨ Vue 3 + Vite + TypeScript + Tailwind CSS æ„å»ºã€‚

---

## ç›®å½•

- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [é¡¹ç›®æ ¹ç›®å½•ç»“æ„](#é¡¹ç›®æ ¹ç›®å½•ç»“æ„)
- [src ç›®å½•è¯¦è§£](#src-ç›®å½•è¯¦è§£)
  - [å…¥å£ä¸å…¨å±€](#å…¥å£ä¸å…¨å±€)
  - [pages â€” é¡µé¢](#pages--é¡µé¢)
  - [components â€” ç»„ä»¶](#components--ç»„ä»¶)
  - [composables â€” ç»„åˆå¼å‡½æ•°](#composables--ç»„åˆå¼å‡½æ•°)
  - [utils â€” å·¥å…·åº“](#utils--å·¥å…·åº“)
  - [i18n â€” å›½é™…åŒ–](#i18n--å›½é™…åŒ–)
  - [router â€” è·¯ç”±](#router--è·¯ç”±)
- [CSS æ¶æ„](#css-æ¶æ„)
  - [Tailwind CSS v4 é›†æˆ](#tailwind-css-v4-é›†æˆ)
  - [ä¸»é¢˜ç³»ç»Ÿ](#ä¸»é¢˜ç³»ç»Ÿ)
  - [å…¨å±€ç»„ä»¶æ ·å¼](#å…¨å±€ç»„ä»¶æ ·å¼)
  - [Vue ç»„ä»¶ä¸­çš„æ ·å¼](#vue-ç»„ä»¶ä¸­çš„æ ·å¼)
- [æ ¸å¿ƒåŠŸèƒ½ï¼šæ—‹è½¬ä½“ä½“ç§¯å¯è§†åŒ–](#æ ¸å¿ƒåŠŸèƒ½æ—‹è½¬ä½“ä½“ç§¯å¯è§†åŒ–)
  - [æ•°æ®æµ](#æ•°æ®æµ)
  - [æ›²çº¿è¾“å…¥ä¸è§£æ](#æ›²çº¿è¾“å…¥ä¸è§£æ)
  - [åŒºåŸŸè®¡ç®—ç®—æ³•](#åŒºåŸŸè®¡ç®—ç®—æ³•)
  - [ä½“ç§¯è®¡ç®—](#ä½“ç§¯è®¡ç®—)
  - [3D æ¸²æŸ“ç®¡çº¿](#3d-æ¸²æŸ“ç®¡çº¿)
  - [2D ç”»å¸ƒè§†å›¾](#2d-ç”»å¸ƒè§†å›¾)
- [SEO ä¸ Meta æ ‡ç­¾ç®¡ç†](#seo-ä¸-meta-æ ‡ç­¾ç®¡ç†)
- [æ„å»ºä¸è¿è¡Œ](#æ„å»ºä¸è¿è¡Œ)
- [å…³é”®ä¾èµ–è¯´æ˜](#å…³é”®ä¾èµ–è¯´æ˜)

---

## æŠ€æœ¯æ ˆ

| ç±»åˆ«         | æŠ€æœ¯                                    |
| ------------ | --------------------------------------- |
| æ¡†æ¶         | Vue 3 (Composition API, `<script setup>`) |
| æ„å»ºå·¥å…·     | Vite 7 + pnpm                           |
| è¯­è¨€         | TypeScript (strict mode)                |
| CSS æ¡†æ¶     | Tailwind CSS v4 (`@tailwindcss/vite`)   |
| è·¯ç”±         | vue-router 5                            |
| å›½é™…åŒ–       | vue-i18n 11 (ä¸­/è‹±)                     |
| æ•°å­¦å¼•æ“     | mathjs (è¡¨è¾¾å¼è§£æã€ç¼–è¯‘ã€æ±‚å€¼)          |
| 3D æ¸²æŸ“      | Three.js + OrbitControls                |
| å…¬å¼æ¸²æŸ“     | KaTeX                                   |

---

## é¡¹ç›®æ ¹ç›®å½•ç»“æ„

```
Mathtools/
â”œâ”€â”€ docs/                   # æœ¬æ–‡æ¡£æ‰€åœ¨ç›®å½•
â”œâ”€â”€ dist/                   # æ„å»ºäº§ç‰© (pnpm build åç”Ÿæˆ)
â”œâ”€â”€ public/                 # é™æ€èµ„æºï¼Œæ„å»ºæ—¶ç›´æ¥å¤åˆ¶åˆ° dist
â”‚   â””â”€â”€ vite.svg
â”œâ”€â”€ src/                    # æºç æ ¹ç›®å½• (è¯¦è§ä¸‹èŠ‚)
â”œâ”€â”€ index.html              # SPA å…¥å£ HTML
â”œâ”€â”€ package.json            # é¡¹ç›®ä¾èµ–ä¸è„šæœ¬
â”œâ”€â”€ pnpm-lock.yaml          # pnpm é”æ–‡ä»¶
â”œâ”€â”€ vite.config.ts          # Vite é…ç½® (åˆ«å @â†’src, Tailwind æ’ä»¶, manualChunks åˆ†åŒ…)
â”œâ”€â”€ tsconfig.json           # TypeScript é¡¹ç›®å¼•ç”¨å…¥å£
â”œâ”€â”€ tsconfig.app.json       # åº”ç”¨ä»£ç  TS é…ç½®
â”œâ”€â”€ tsconfig.node.json      # Node ä¾§ TS é…ç½® (vite.config ç­‰)
â”œâ”€â”€ .npmrc                  # pnpm é…ç½®
â””â”€â”€ .gitignore
```

---

## src ç›®å½•è¯¦è§£

```
src/
â”œâ”€â”€ main.ts                 # åº”ç”¨å…¥å£ï¼šåˆ›å»º app, æŒ‚è½½ router/i18n
â”œâ”€â”€ App.vue                 # æ ¹ç»„ä»¶ï¼šAppHeader + <router-view>
â”œâ”€â”€ env.d.ts                # Vite å…¨å±€ç±»å‹å£°æ˜
â”œâ”€â”€ style.css               # å…¨å±€ CSSï¼šTailwind å¯¼å…¥ã€@theme æ˜ å°„ã€CSS å˜é‡ã€ç»„ä»¶å±‚
â”‚
â”œâ”€â”€ assets/                 # é™æ€èµ„æº (logo ç­‰)
â”‚   â””â”€â”€ vue.svg
â”‚
â”œâ”€â”€ pages/                  # è·¯ç”±çº§é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Home.vue            # é¦–é¡µï¼šå·¥å…·å¡ç‰‡åˆ—è¡¨
â”‚   â”œâ”€â”€ RevolutionVolume.vue# â˜… æ—‹è½¬ä½“ä½“ç§¯å¯è§†åŒ– (ä¸»åŠŸèƒ½é¡µ)
â”‚   â””â”€â”€ PlaceholderPage.vue # å…¶ä½™åŠŸèƒ½çš„å ä½ "å³å°†æ¨å‡º" é¡µ
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â””â”€â”€ AppHeader.vue   # é¡¶éƒ¨å¯¼èˆªæ ï¼šè·¯ç”±é“¾æ¥ã€è¯­è¨€åˆ‡æ¢ã€ä¸»é¢˜åˆ‡æ¢
â”‚   â””â”€â”€ revolution/
â”‚       â””â”€â”€ Canvas2D.vue    # 2D ç”»å¸ƒï¼šåæ ‡ç³»ã€æ›²çº¿ã€åŒºåŸŸå¡«å……ã€äº¤äº’
â”‚
â”œâ”€â”€ composables/
â”‚   â””â”€â”€ useThreeScene.ts    # Three.js åœºæ™¯ç®¡ç† (ç»„åˆå¼å‡½æ•°)
â”‚   â””â”€â”€ useSEO.ts           # SEO ä¸ Meta æ ‡ç­¾ç®¡ç†
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ mathEngine.ts       # â˜… Barrel é‡å¯¼å‡ºï¼ˆä¿æŒå‘åå…¼å®¹çš„ç»Ÿä¸€å…¥å£ï¼‰
â”‚   â”œâ”€â”€ types.ts            # å…±äº«ç±»å‹/æ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ latex.ts            # LaTeX è§„èŒƒåŒ–ã€æ–¹ç¨‹â†’LaTeXã€ä½“ç§¯æ ¼å¼åŒ–
â”‚   â”œâ”€â”€ curveEngine.ts      # æ›²çº¿è§£æã€ç¼–è¯‘ã€æ±‚å€¼ã€é‡‡æ ·
â”‚   â”œâ”€â”€ regionEngine.ts     # 2D æœ‰ç•ŒåŒºåŸŸè®¡ç®—
â”‚   â”œâ”€â”€ volumeEngine.ts     # æ•°å€¼ç§¯åˆ†ä¸ä½“ç§¯è®¡ç®—
â”‚   â”œâ”€â”€ meshEngine.ts       # 3D æ—‹è½¬ä½“ç½‘æ ¼ç”Ÿæˆ
â”‚   â””â”€â”€ presets.ts          # é¢„è®¾ç¤ºä¾‹æ•°æ®
â”‚
â”œâ”€â”€ i18n/
â”‚   â”œâ”€â”€ index.ts            # i18n å®ä¾‹ï¼šè¯­è¨€æ£€æµ‹ã€locale åˆ‡æ¢
â”‚   â””â”€â”€ locales/
â”‚       â”œâ”€â”€ en.json         # è‹±æ–‡æ–‡æ¡ˆ
â”‚       â””â”€â”€ zh.json         # ä¸­æ–‡æ–‡æ¡ˆ
â”‚
â””â”€â”€ router/
    â””â”€â”€ index.ts            # è·¯ç”±å®šä¹‰ï¼š/ /revolution /matrix ç­‰
```

---

### å…¥å£ä¸å…¨å±€

| æ–‡ä»¶            | èŒè´£                                                                 |
| --------------- | -------------------------------------------------------------------- |
| `main.ts`       | åˆ›å»º Vue åº”ç”¨å®ä¾‹ï¼Œæ³¨å†Œ router å’Œ i18n æ’ä»¶ï¼ŒæŒ‚è½½åˆ° `#app`           |
| `App.vue`       | æ ¹ç»„ä»¶ã€‚æ¸²æŸ“ `<AppHeader />` + `<router-view>` (å¸¦ fade è¿‡æ¸¡åŠ¨ç”»)ã€‚å¸ƒå±€ä½¿ç”¨ Tailwind å·¥å…·ç±» |
| `style.css`     | Tailwind å…¥å£ (`@import "tailwindcss"`)ã€`@theme` ä¸»é¢˜æ˜ å°„ã€CSS è‡ªå®šä¹‰å±æ€§ (äº®/æš—)ã€`@layer components` å…¨å±€ç»„ä»¶æ ·å¼ |
| `env.d.ts`      | Vite å®¢æˆ·ç«¯ç±»å‹å£°æ˜ (`*.vue` æ¨¡å—ç­‰)                                 |

### pages â€” é¡µé¢

| æ–‡ä»¶                    | è·¯ç”±             | è¯´æ˜                                                         |
| ----------------------- | ---------------- | ------------------------------------------------------------ |
| `Home.vue`              | `/`              | é¦–é¡µã€‚å±•ç¤ºå·¥å…·å¡ç‰‡ç½‘æ ¼ï¼Œç‚¹å‡»è·³è½¬åˆ°å¯¹åº”åŠŸèƒ½é¡µ                 |
| `RevolutionVolume.vue`  | `/revolution`    | **æ ¸å¿ƒé¡µé¢**ã€‚å·¦ä¾§æ§åˆ¶é¢æ¿ + å³ä¾§å¯è§†åŒ–åŒºåŸŸ (3D/2D åˆ‡æ¢)    |
| `PlaceholderPage.vue`   | `/matrix` ç­‰     | å ä½é¡µé¢ã€‚æ˜¾ç¤º "å³å°†æ¨å‡º" åŠè¿”å›æŒ‰é’®                         |

### components â€” ç»„ä»¶

| æ–‡ä»¶                              | è¯´æ˜                                                                                  |
| --------------------------------- | ------------------------------------------------------------------------------------- |
| `layout/AppHeader.vue`            | å…¨å±€é¡¶æ ã€‚sticky å®šä½ã€‚åŒ…å« logoã€å¯¼èˆªé“¾æ¥ã€è¯­è¨€åˆ‡æ¢æŒ‰é’®ã€æš—è‰²æ¨¡å¼åˆ‡æ¢ã€ç§»åŠ¨ç«¯æ±‰å ¡èœå• |
| `revolution/Canvas2D.vue`         | 2D ç»˜å›¾ç»„ä»¶ã€‚æ¥æ”¶ `curves`/`region` propsï¼Œåœ¨ HTML Canvas ä¸Šç»˜åˆ¶åæ ‡ç³»ã€æ›²çº¿ã€å¡«å……åŒºåŸŸã€‚æ”¯æŒæ‹–æ‹½å¹³ç§»ã€è§¦æ‘¸ç¼©æ”¾ |

### composables â€” ç»„åˆå¼å‡½æ•°

| æ–‡ä»¶                   | å¯¼å‡º                                           | è¯´æ˜                                                                                                              |
| ---------------------- | ---------------------------------------------- | ----------------------------------------------------------------------------------------------------------------- |
| `useThreeScene.ts`     | `useThreeScene()`, `defaultDisplayOptions`, `DisplayOptions` | å°è£…å®Œæ•´çš„ Three.js ç”Ÿå‘½å‘¨æœŸã€‚ç®¡ç† renderer/scene/camera/controls/ç¯å…‰ã€‚æä¾› `buildSolid()`ã€`updateDisplay()`ã€`startAnimation()`ã€`takeScreenshot()`ã€`dispose()` ç­‰æ–¹æ³• |

**`useThreeScene` ä¸»è¦æ–¹æ³•ï¼š**

| æ–¹æ³•               | è¯´æ˜                                                                 |
| ------------------ | -------------------------------------------------------------------- |
| `init()`           | åˆ›å»º WebGL rendererã€PerspectiveCameraã€OrbitControlsã€ç¯å…‰ã€ResizeObserver |
| `buildSolid()`     | æ ¹æ® `ComputedRegion` + æ—‹è½¬è½´ç”Ÿæˆ 3D ç½‘æ ¼ (å®ä½“ + çº¿æ¡†)             |
| `updateDisplay()`  | æ›´æ–°æ¸²æŸ“æ¨¡å¼ (solid/wireframe/transparent)ã€é¢œè‰²ã€åæ ‡è½´/ç½‘æ ¼å¯è§æ€§   |
| `startAnimation()` | å¯åŠ¨æ—‹è½¬ç”ŸæˆåŠ¨ç”» (ä» 0Â° é€æ­¥æ‰©å¤§åˆ° 360Â°)                             |
| `takeScreenshot()`  | å¯¼å‡ºå½“å‰ 3D è§†å›¾ä¸º PNG data URL                                      |
| `resetCamera()`    | é‡ç½®ç›¸æœºåˆ°åŒ…å›´çƒæœ€ä½³è§†è§’                                              |
| `dispose()`        | é‡Šæ”¾æ‰€æœ‰ GPU èµ„æºã€ç§»é™¤äº‹ä»¶ç›‘å¬                                       |

### utils â€” å·¥å…·åº“ï¼ˆæ¨¡å—åŒ–æ¶æ„ï¼‰

åŸå…ˆæ‰€æœ‰æ•°å­¦é€»è¾‘é›†ä¸­åœ¨å•ä¸€çš„ `mathEngine.ts` (1400+ è¡Œ)ï¼Œç°å·²æŒ‰èŒè´£æ‹†åˆ†ä¸º 7 ä¸ªç‹¬ç«‹å­æ¨¡å—ã€‚
`mathEngine.ts` ä¿ç•™ä¸º **barrel é‡å¯¼å‡ºæ–‡ä»¶**ï¼Œæ‰€æœ‰å·²æœ‰çš„ `import { ... } from "@/utils/mathEngine"` æ— éœ€ä»»ä½•ä¿®æ”¹å³å¯æ­£å¸¸å·¥ä½œã€‚

```
utils/
â”œâ”€â”€ mathEngine.ts      â† barrel é‡å¯¼å‡ºï¼ˆå‘åå…¼å®¹å…¥å£ï¼‰
â”œâ”€â”€ types.ts           â† å…±äº«ç±»å‹å®šä¹‰
â”œâ”€â”€ latex.ts           â† LaTeX ç›¸å…³
â”œâ”€â”€ curveEngine.ts     â† æ›²çº¿å±‚
â”œâ”€â”€ regionEngine.ts    â† åŒºåŸŸå±‚
â”œâ”€â”€ volumeEngine.ts    â† ä½“ç§¯å±‚
â”œâ”€â”€ meshEngine.ts      â† 3D ç½‘æ ¼å±‚
â””â”€â”€ presets.ts         â† é¢„è®¾æ•°æ®
```

#### `types.ts` â€” å…±äº«ç±»å‹/æ¥å£

| ç¬¦å·                | ç±»åˆ«      | è¯´æ˜                                                              |
| ------------------- | --------- | ----------------------------------------------------------------- |
| `CurveType`         | type      | `"y_of_x" \| "x_of_y" \| "x_const" \| "y_const"`                |
| `CurveDefinition`   | interface | æ›²çº¿å®šä¹‰ï¼š`{ id, type, expression, equation, color? }`           |
| `RotationAxis`      | type      | `"x" \| "y"`                                                     |
| `RevolutionConfig`  | interface | å®Œæ•´æ—‹è½¬ä½“é…ç½®ï¼ˆæ›²çº¿é›†ã€èŒƒå›´ã€è½´ã€åˆ†è¾¨ç‡ï¼‰                        |
| `ProfilePoint`      | interface | é‡‡æ ·ç‚¹ `{ x, y }`                                                |
| `ComputedRegion`    | interface | è®¡ç®—åçš„åŒºåŸŸï¼š`{ upperProfile, lowerProfile, xMin, xMax }`       |
| `RevolutionResult`  | interface | è®¡ç®—ç»“æœï¼š`{ volume, formulaLatex, region, methodKey }`          |
| `MeshProfilePoint`  | interface | 3D ç½‘æ ¼è½®å»“ç‚¹ `{ radius, axisPos }`                              |
| `PresetExample`     | interface | é¢„è®¾ç¤ºä¾‹å®šä¹‰                                                      |
| `CompiledCurve`     | interface | ç¼–è¯‘åçš„æ›²çº¿å†…éƒ¨è¡¨ç¤º                                              |

#### `latex.ts` â€” LaTeX è§„èŒƒåŒ–ä¸æ¸²æŸ“

æ­¤æ¨¡å—å°† **è®¡ç®—è·¯å¾„** (normalizeExpression) å’Œ **æ˜¾ç¤ºè·¯å¾„** (equationToLatex) çš„ LaTeX èŒè´£é›†ä¸­ç®¡ç†ï¼Œ

| å‡½æ•°                        | è¯´æ˜                                                                       |
| --------------------------- | -------------------------------------------------------------------------- |
| `normalizeExpression(expr)` | LaTeX â†’ mathjs å¯è®¡ç®—å­—ç¬¦ä¸²ï¼ˆ`\frac{a}{b}` â†’ `((a)/(b))`ï¼‰                |
| `equationToLatex(raw)`      | æ–¹ç¨‹å­—ç¬¦ä¸² â†’ KaTeX å¯æ¸²æŸ“ LaTeXï¼ˆä½¿ç”¨ `parenthesis: "auto"` é¿å…å¤šä½™æ‹¬å·ï¼‰ |
| `formatNum(n)`              | æ•°å­— â†’ ç®€æ´ LaTeXï¼ˆæ•´æ•°/Ï€ å€æ•°/å°æ•°ï¼‰                                     |
| `formatVolume(volume)`      | ä½“ç§¯å€¼ â†’ `{ display, latex }` å¯¹ï¼ˆÏ€ å€æ•°/åˆ†æ•°/å°æ•°ï¼‰                      |
| `buildDiskFormulaLatex()`   | æ„å»ºåœ†ç›˜æ³•ç§¯åˆ†å…¬å¼ LaTeX                                                   |
| `buildShellFormulaLatex()`  | æ„å»ºæŸ±å£³æ³•ç§¯åˆ†å…¬å¼ LaTeX                                                   |

#### `curveEngine.ts` â€” æ›²çº¿è§£æã€ç¼–è¯‘ä¸é‡‡æ ·

| å‡½æ•°                             | è¯´æ˜                                                           |
| -------------------------------- | -------------------------------------------------------------- |
| `parseEquation(raw)`             | å°† `"y = sqrt(x-1)"` è§£æä¸º `{ type, expression }`            |
| `isConstantExpression(expr,var)` | åˆ¤æ–­è¡¨è¾¾å¼æ˜¯å¦ä¸ºå¸¸é‡ï¼ˆä¸å«è‡ªç”±å˜é‡ï¼‰                            |
| `compileCurve(curve)`            | ä½¿ç”¨ mathjs ç¼–è¯‘è¡¨è¾¾å¼ä¸ºå¯æ±‚å€¼å¯¹è±¡                              |
| `evalCurve(cc, paramValue)`      | å®‰å…¨æ±‚å€¼å·²ç¼–è¯‘æ›²çº¿ï¼Œå¤„ç† NaN/Infinity                           |
| `createInverseFunction(cc)`      | å¯¹ x=g(y) ç±»å‹æ›²çº¿é‡‡æ ·+äºŒåˆ†ï¼Œåˆ›å»ºè¿‘ä¼¼ y(x) åå‡½æ•°              |
| `findIntersectionsXRange(f1,f2)` | æ‰«æ+äºŒåˆ†æ³•å¯»æ‰¾ä¸¤å‡½æ•°åœ¨æŒ‡å®šåŒºé—´å†…çš„äº¤ç‚¹ x å€¼                    |
| `sampleCurve(curve, ...)`        | å¯¹å•æ¡æ›²çº¿é‡‡æ ·ï¼Œè¿”å› `{ x, y }[]`ï¼Œä¾› Canvas2D ç»˜å›¾ä½¿ç”¨        |

#### `regionEngine.ts` â€” 2D æœ‰ç•ŒåŒºåŸŸè®¡ç®—

| å‡½æ•°                           | è¯´æ˜                                                           |
| ------------------------------ | -------------------------------------------------------------- |
| `computeRegion(curves, ...)`   | ä»æ›²çº¿é›†åˆè®¡ç®—ä¸Š/ä¸‹è¾¹ç•Œè½®å»“ã€‚3+ æ›²çº¿æ—¶è‡ªåŠ¨ç”¨äº¤ç‚¹æ”¶ç´§èŒƒå›´       |
| `computeRegionTwoCurves()`     | ä¸¤æ¡æ›²çº¿çš„ max/min ç”Ÿæˆä¸Šä¸‹è½®å»“ï¼ˆå«åŸŸè¾¹ç•Œæ¢æµ‹ï¼‰                 |
| `computeRegionMultiCurves()`   | å¤šæ¡æ›²çº¿å–å…¨å±€ max/min ç”Ÿæˆä¸Šä¸‹è½®å»“                             |

#### `volumeEngine.ts` â€” ä½“ç§¯è®¡ç®—ä¸æ•°å€¼ç§¯åˆ†

| å‡½æ•°                          | è¯´æ˜                                                            |
| ----------------------------- | --------------------------------------------------------------- |
| `computeVolume(region, axis)` | æ•°å€¼ç§¯åˆ†æ±‚æ—‹è½¬ä½“ä½“ç§¯ (Simpson æ³•)ã€‚ç»• x è½´ç”¨åœ†ç›˜æ³•ï¼Œç»• y è½´ç”¨æŸ±å£³æ³• |
| `simpsonsRule(f, a, b, n)`    | Simpson 1/3 æ•°å€¼ç§¯åˆ†                                            |
| `createInterpolator(points)`  | ä»ç¦»æ•£è½®å»“ç‚¹åˆ›å»ºçº¿æ€§æ’å€¼å‡½æ•°                                    |
| `autoDetectBounds(curves)`    | æ‰«ææ›²çº¿äº¤ç‚¹ï¼Œè‡ªåŠ¨ä¼°ç®—åˆç†çš„ x èŒƒå›´                              |

#### `meshEngine.ts` â€” 3D æ—‹è½¬ä½“ç½‘æ ¼ç”Ÿæˆ

| å‡½æ•°                            | è¯´æ˜                                                          |
| ------------------------------- | ------------------------------------------------------------- |
| `generateMeshProfiles(...)`     | ä» 2D åŒºåŸŸç”Ÿæˆ 3D ç½‘æ ¼çš„å¾„å‘/è½´å‘è½®å»“ç‚¹                       |
| `generateRevolutionGeometry()`  | å°†è½®å»“ç‚¹æ‰«ææ—‹è½¬ç”Ÿæˆä¸‰è§’ç½‘æ ¼ (positions, normals, indices)     |
| *(å†…éƒ¨)* `computeNormals()`     | ä¸ºä¸‰è§’ç½‘æ ¼è®¡ç®—å¹³æ»‘æ³•çº¿                                         |

#### `presets.ts` â€” é¢„è®¾ç¤ºä¾‹

| ç¬¦å·              | è¯´æ˜                                                           |
| ----------------- | -------------------------------------------------------------- |
| `presetExamples`  | é¢„è®¾ç¤ºä¾‹æ•°ç»„ (æŠ›ç‰©çº¿ä¸ç›´çº¿ã€æ­£å¼¦æ›²çº¿ã€ä¸¤æ›²çº¿ä¹‹é—´)               |

#### `mathEngine.ts` â€” Barrel é‡å¯¼å‡º

æ­¤æ–‡ä»¶ä¸å†åŒ…å«ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œä»…é€šè¿‡ `export { ... } from "./xxx"` å’Œ `export type { ... } from "./types"` é‡å¯¼å‡ºä¸Šè¿°æ‰€æœ‰å­æ¨¡å—çš„å…¬å…± APIã€‚
æ‰€æœ‰å·²æœ‰çš„ `import { ... } from "@/utils/mathEngine"` ä¿æŒå®Œå…¨å…¼å®¹ï¼Œæ— éœ€ä¿®æ”¹ä»»ä½•æ¶ˆè´¹ä¾§ä»£ç ã€‚

### i18n â€” å›½é™…åŒ–

| æ–‡ä»¶                   | è¯´æ˜                                                    |
| ---------------------- | ------------------------------------------------------- |
| `i18n/index.ts`        | åˆ›å»º i18n å®ä¾‹ã€‚è‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨è¯­è¨€ï¼Œæ”¯æŒ localStorage æŒä¹…åŒ– |
| `locales/en.json`      | è‹±æ–‡æ–‡æ¡ˆ (appã€homeã€revolutionã€common å‘½åç©ºé—´)        |
| `locales/zh.json`      | ä¸­æ–‡æ–‡æ¡ˆ (åŒç»“æ„)                                        |

**i18n å‘½åç©ºé—´ï¼š**
- `app.*` â€” å…¨å±€æ ‡é¢˜ã€å¯¼èˆªã€é¡µè„š
- `home.*` â€” é¦–é¡µ
- `revolution.*` â€” æ—‹è½¬ä½“é¡µé¢ (curvesã€boundsã€axisã€displayã€resultã€errorsã€helpã€presets)
- `common.*` â€” é€šç”¨è¯æ±‡

### router â€” è·¯ç”±

| æ–‡ä»¶              | è¯´æ˜                                                    |
| ----------------- | ------------------------------------------------------- |
| `router/index.ts` | å®šä¹‰æ‰€æœ‰è·¯ç”±ã€‚ä½¿ç”¨ `createWebHistory`ã€‚æ‡’åŠ è½½é¡µé¢ç»„ä»¶ã€‚404 é‡å®šå‘åˆ°é¦–é¡µ |

**è·¯ç”±è¡¨ï¼š**

| è·¯å¾„           | é¡µé¢ç»„ä»¶              | çŠ¶æ€     |
| -------------- | --------------------- | -------- |
| `/`            | `Home.vue`            | âœ… å·²å®ç° |
| `/revolution`  | `RevolutionVolume.vue`| âœ… å·²å®ç° |
| `/matrix`      | `PlaceholderPage.vue` | ğŸš§ å ä½  |
| `/graphing`    | `PlaceholderPage.vue` | ğŸš§ å ä½  |
| `/derivatives` | `PlaceholderPage.vue` | ğŸš§ å ä½  |
| `/geometry`    | `PlaceholderPage.vue` | ğŸš§ å ä½  |
| `/statistics`  | `PlaceholderPage.vue` | ğŸš§ å ä½  |

---

## CSS æ¶æ„

é¡¹ç›®ä½¿ç”¨ **Tailwind CSS v4** é…åˆ CSS è‡ªå®šä¹‰å±æ€§å®ç°ä¸»é¢˜åŒ–æ ·å¼ç³»ç»Ÿ

### Tailwind CSS v4 é›†æˆ

**å®‰è£…ä¸é…ç½®ï¼š**

```bash
pnpm add -D tailwindcss @tailwindcss/vite
```

Vite æ’ä»¶æ³¨å†Œ (`vite.config.ts`)ï¼š

```ts
import tailwindcss from "@tailwindcss/vite";

export default defineConfig({
  plugins: [vue(), tailwindcss()],
  // ...
});
```

**å…¥å£æ–‡ä»¶** (`style.css`) é¡¶éƒ¨ï¼š

```css
@import "tailwindcss";
```

### ä¸»é¢˜ç³»ç»Ÿ

æ ·å¼ç³»ç»Ÿåˆ†ä¸ºä¸‰å±‚ï¼š

#### 1. CSS è‡ªå®šä¹‰å±æ€§ (`:root` / `[data-theme="dark"]`)

æ‰€æœ‰é¢œè‰²å’Œé˜´å½±å®šä¹‰ä¸º CSS å˜é‡ï¼Œäº®è‰²/æš—è‰²ä¸»é¢˜å„ä¸€ä»½ã€‚å˜é‡ä»¥ `--c-` (é¢œè‰²) å’Œ `--s-` (é˜´å½±) ä¸ºå‰ç¼€ï¼š

```css
:root {
    --c-bg: #f5f7fa;
    --c-primary: #4f6ef7;
    --s-sm: 0 1px 3px rgba(0, 0, 0, 0.06);
    /* ... */
}

[data-theme="dark"] {
    --c-bg: #0f1117;
    --c-primary: #6b8aff;
    --s-sm: 0 1px 3px rgba(0, 0, 0, 0.2);
    /* ... */
}
```

#### 2. `@theme` å— â€” å°† CSS å˜é‡æ˜ å°„åˆ° Tailwind

é€šè¿‡ Tailwind v4 çš„ `@theme` æŒ‡ä»¤ï¼Œå°† CSS å˜é‡æ¡¥æ¥ä¸º Tailwind å·¥å…·ç±»å‘½åç©ºé—´ï¼š

```css
@theme {
    --color-bg: var(--c-bg);
    --color-primary: var(--c-primary);
    --shadow-sm: var(--s-sm);
    --radius-sm: 6px;
    --font-sans: "Inter", -apple-system, /* ... */;
    /* ... */
}
```

æ˜ å°„å®Œæˆåï¼Œå³å¯åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¦‚ä¸‹ Tailwind ç±»ï¼š

| Tailwind å·¥å…·ç±»          | å¯¹åº”å€¼                        |
| ------------------------ | ----------------------------- |
| `bg-bg`                  | `var(--c-bg)` â€” é¡µé¢èƒŒæ™¯      |
| `bg-bg-soft`             | `var(--c-bg-soft)` â€” å¡ç‰‡èƒŒæ™¯ |
| `text-text`              | `var(--c-text)` â€” ä¸»æ–‡æœ¬è‰²    |
| `text-text-soft`         | `var(--c-text-soft)` â€” æ¬¡æ–‡æœ¬ |
| `text-primary`           | `var(--c-primary)` â€” ä¸»é¢˜è‰²   |
| `border-border`          | `var(--c-border)` â€” è¾¹æ¡†è‰²    |
| `shadow-card`            | `var(--s-card)` â€” å¡ç‰‡é˜´å½±    |
| `rounded-sm` / `rounded-md` | 6px / 10px               |
| `font-sans` / `font-mono`   | è‡ªå®šä¹‰å­—ä½“æ ˆ              |

è¿™äº›ç±»åœ¨æš—è‰²æ¨¡å¼ä¸‹è‡ªåŠ¨æ›´æ–°ï¼Œå› ä¸ºåº•å±‚ CSS å˜é‡ä¼šéš `[data-theme="dark"]` åˆ‡æ¢ã€‚

#### 3. `@layer components` â€” å…¨å±€å¯å¤ç”¨ç»„ä»¶ç±»

åœ¨ `style.css` çš„ `@layer components` ä¸­ä½¿ç”¨ `@apply` å®šä¹‰é«˜é¢‘å¤ç”¨ç»„ä»¶ï¼š

| ç»„ä»¶ç±»          | è¯´æ˜                                        |
| --------------- | ------------------------------------------- |
| `.btn`          | åŸºç¡€æŒ‰é’® (inline-flex, åœ†è§’, è¿‡æ¸¡)          |
| `.btn-primary`  | ä¸»æŒ‰é’® (ä¸»é¢˜è‰²èƒŒæ™¯)                         |
| `.btn-danger`   | å±é™©æŒ‰é’® (çº¢è‰²)                             |
| `.btn-sm`       | å°å·æŒ‰é’®                                    |
| `.btn-icon`     | å›¾æ ‡æŒ‰é’® (36Ã—36)                            |
| `.card`         | å¡ç‰‡å®¹å™¨ (èƒŒæ™¯ + è¾¹æ¡† + åœ†è§’ + é˜´å½±)        |
| `.card-header`  | å¡ç‰‡å¤´éƒ¨                                    |
| `.card-body`    | å¡ç‰‡å†…å®¹åŒº                                  |
| `.badge`        | æ ‡ç­¾ (åœ†è§’èƒ¶å›Š)                             |
| `.toggle`       | å¼€å…³ç»„ä»¶ (checkbox ç¾åŒ–)                    |
| `.tooltip`      | å·¥å…·æç¤º (CSS `::after` å®ç°)               |
| `input[type="range"]` | æ»‘å—ç¾åŒ–                              |
| `input[type="color"]` | é¢œè‰²é€‰æ‹©å™¨ç¾åŒ–                        |

### Vue ç»„ä»¶ä¸­çš„æ ·å¼

Vue å•æ–‡ä»¶ç»„ä»¶çš„ `<style scoped>` å—éµå¾ªä»¥ä¸‹æ¨¡å¼ï¼š

1. **æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨ Tailwind å·¥å…·ç±»**è¿›è¡Œå¸ƒå±€ä¸æ ·å¼ï¼š
   ```html
   <div class="flex items-center gap-2.5 px-4 py-3 bg-bg-soft border-b border-border">
   ```

2. **`@reference` æŒ‡ä»¤** â€” æ¯ä¸ªä½¿ç”¨ `@apply` çš„ scoped æ ·å¼å—å¿…é¡»å¼•å…¥ä¸»é¢˜å¼•ç”¨ï¼Œè®© Tailwind è¯†åˆ«è‡ªå®šä¹‰ç±»ï¼š
   ```css
   <style scoped>
   @reference "../style.css";

   .my-component {
       @apply flex items-center gap-2 text-primary;
   }
   </style>
   ```

3. **ä¿ç•™å°‘é‡ scoped CSS** çš„åœºæ™¯ï¼š
   - éœ€è¦ `.active` çŠ¶æ€åˆ‡æ¢çš„äº¤äº’æŒ‰é’® (å¦‚ `.axis-btn.active`, `.view-tab.active`)
   - è‡ªå®šä¹‰åŠ¨ç”» `@keyframes`
   - Vue `<transition>` åŠ¨ç”»ç±» (`.collapse-*`, `.slide-result-*`)
   - `:deep()` é€‰æ‹©å™¨è¦†ç›–ç¬¬ä¸‰æ–¹ç»„ä»¶æ ·å¼ (KaTeX)
   - ä¸é€‚åˆå†…è”çš„å¤æ‚ä¼ªå…ƒç´ æ ·å¼

## æ ¸å¿ƒåŠŸèƒ½ï¼šæ—‹è½¬ä½“ä½“ç§¯å¯è§†åŒ–

### æ•°æ®æµ

```
ç”¨æˆ·è¾“å…¥æ–¹ç¨‹ (å¦‚ "y = sqrt(x-1)" æˆ– "y = \frac{1}{2}")
       â”‚
       â”œâ”€â”€â”€ æ˜¾ç¤ºè·¯å¾„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è®¡ç®—è·¯å¾„ â”€â”€â”€â”
       â”‚                                                       â”‚
       â–¼                                                       â–¼
 equationToLatex()                                    normalizeExpression()
 [latex.ts]                                           [latex.ts]
  â†’ normalizeExpression()                              â†’ LaTeX â†’ mathjs è¯­æ³•
  â†’ mathjs parse().toTex()                              (å¦‚ \frac{1}{2} â†’ ((1)/(2)))
    parenthesis: "auto" â† ä¿®å¤ï¼                              â”‚
  â†’ KaTeX æ¸²æŸ“                                                â–¼
                                                      parseEquation()
                                                      [curveEngine.ts]
                                                       â†’ { type, expression }
                                                              â”‚
                                                              â–¼
                                                      autoDetectBounds()
                                                      [volumeEngine.ts]
                                                       â†’ è‡ªåŠ¨è®¡ç®— xMin/xMax
                                                              â”‚
                                                              â–¼
                                                      computeRegion()
                                                      [regionEngine.ts]
                                                       â†’ ComputedRegion { upper/lower Profile[] }
                                                              â”‚
                                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                                â–¼             â–¼
                                          computeVolume()  generateMeshProfiles()
                                          [volumeEngine]   [meshEngine.ts]
                                           â†’ Simpson ç§¯åˆ†    â†’ å¾„å‘/è½´å‘è½®å»“
                                           â†’ RevolutionResult     â”‚
                                           â†’ formulaLatex         â–¼
                                             [latex.ts]    generateRevolutionGeometry()
                                                           [meshEngine.ts]
                                                            â†’ positions/normals/indices
                                                                  â”‚
                                                                  â–¼
                                                          useThreeScene.buildSolid()
                                                            â†’ THREE.Mesh (å®ä½“+çº¿æ¡†)
                                                            â†’ 3D æ¸²æŸ“
```

### æ›²çº¿è¾“å…¥ä¸è§£æ

ç”¨æˆ·åœ¨è¾“å…¥æ¡†ä¸­ç›´æ¥è¾“å…¥å®Œæ•´çš„æ–¹ç¨‹å­—ç¬¦ä¸²ï¼Œå¦‚ï¼š

- `y = x^2` â†’ è§£æä¸º `y_of_x` ç±»å‹
- `y = 1` â†’ è§£æä¸º `y_const` ç±»å‹ (isConstantExpression æ£€æµ‹æ— è‡ªç”±å˜é‡ x)
- `x = 0` â†’ è§£æä¸º `x_const` ç±»å‹
- `x = y^2` â†’ è§£æä¸º `x_of_y` ç±»å‹ (æ£€æµ‹åˆ°è‡ªç”±å˜é‡ y)
- `y = \frac{1}{2}` â†’ LaTeX è¯­æ³•ä¹Ÿå—æ”¯æŒï¼Œå…ˆç”± `normalizeExpression()` è½¬ä¸º mathjs è¯­æ³•

è§£ææµç¨‹ (`parseEquation` â€” `curveEngine.ts`):
1. è°ƒç”¨ `normalizeExpression()` (`latex.ts`) å°†å¯èƒ½çš„ LaTeX è¯­æ³•è½¬ä¸º mathjs å…¼å®¹æ ¼å¼
2. æ­£åˆ™åŒ¹é… `y = ...` æˆ– `x = ...`
3. æå–å³ä¾§è¡¨è¾¾å¼
4. é€šè¿‡ `isConstantExpression()` åˆ¤æ–­æ˜¯å¸¸é‡è¿˜æ˜¯å‡½æ•°
5. è¿”å› `{ type, expression }`

æ˜¾ç¤ºè·¯å¾„ (`equationToLatex` â€” `latex.ts`):
1. åŒæ ·è°ƒç”¨ `normalizeExpression()` å°†è¾“å…¥è½¬ä¸º mathjs å…¼å®¹æ ¼å¼
2. ä½¿ç”¨ mathjs `parse().toTex({ parenthesis: "auto" })` é‡å»ºå¹²å‡€çš„ LaTeX
3. è¿”å›å®Œæ•´çš„ LaTeX å­—ç¬¦ä¸²ä¾› KaTeX æ¸²æŸ“

è¡¨è¾¾å¼ç”± mathjs ç¼–è¯‘ä¸æ±‚å€¼ï¼Œæ”¯æŒ `sqrt`, `sin`, `cos`, `tan`, `exp`, `log`, `pi`, `e`, `abs`, `^` ç­‰ã€‚

### åŒºåŸŸè®¡ç®—ç®—æ³•

`computeRegion()` æµç¨‹ï¼š

1. **åˆ†ç±»æ›²çº¿**ï¼šå°† `x_const` æ›²çº¿åˆ†ç¦»å‡ºæ¥ä½œä¸º x æ–¹å‘è¾¹ç•Œï¼Œå…¶ä½™ä¸ºå‡½æ•°æ›²çº¿
2. **ç¡®å®š x èŒƒå›´**ï¼šä» `x_const` å€¼å’Œç”¨æˆ·è¾“å…¥çš„ xMin/xMax ç¡®å®š `effectiveXMin`/`effectiveXMax`
3. **æ„å»º y(x) å‡½æ•°**ï¼š
   - `y_of_x` / `y_const` â†’ ç›´æ¥æ±‚å€¼
   - `x_of_y` â†’ é€šè¿‡ `createInverseFunction()` å»ºç«‹è¿‘ä¼¼åå‡½æ•°
4. **æ”¶ç´§è¾¹ç•Œ (3+ æ›²çº¿æ—¶)**ï¼šæ‰¾æ‰€æœ‰æ›²çº¿å¯¹çš„äº¤ç‚¹ï¼Œå°† effectiveXMax æ”¶ç´§åˆ°æœ€è¿œäº¤ç‚¹å¤„ï¼Œé˜²æ­¢åŒºåŸŸè¶…å‡ºå°é—­èŒƒå›´
5. **é‡‡æ ·ç”Ÿæˆè½®å»“**ï¼šåœ¨ [effectiveXMin, effectiveXMax] ä¸Šå‡åŒ€é‡‡æ ·ï¼Œå¯¹æ¯ä¸ª x å–æ‰€æœ‰å‡½æ•°å€¼çš„ max (ä¸Šè¾¹ç•Œ) å’Œ min (ä¸‹è¾¹ç•Œ)

### ä½“ç§¯è®¡ç®—

| æ—‹è½¬è½´ | æ–¹æ³•       | å…¬å¼                                             |
| ------ | ---------- | ------------------------------------------------ |
| x è½´   | åœ†ç›˜/å«åœˆæ³• | V = Ï€ âˆ«[a,b] (R(x)Â² âˆ’ r(x)Â²) dx                |
| y è½´   | æŸ±å£³æ³•      | V = 2Ï€ âˆ«[a,b] \|x âˆ’ axisValue\| Â· h(x) dx      |

ä½¿ç”¨ Simpson 1/3 æ³•åˆ™è¿›è¡Œæ•°å€¼ç§¯åˆ† (è‡³å°‘ 500 æ­¥)ã€‚æ”¯æŒè‡ªå®šä¹‰æ—‹è½¬è½´ä½ç½® (`axisValue`)ã€‚

### 3D æ¸²æŸ“ç®¡çº¿

1. `generateMeshProfiles()` â€” å°† 2D åŒºåŸŸè½®å»“è½¬æ¢ä¸º `{ radius, axisPos }` å¾„å‘è½®å»“
2. `generateRevolutionGeometry()` â€” å°†å¾„å‘è½®å»“ç»•è½´æ—‹è½¬æ‰«æ ï¼Œç”Ÿæˆä¸‰è§’ç½‘æ ¼ (`Float32Array` positions/normals + `Uint32Array` indices)
3. `useThreeScene.buildSolid()` â€” ç”¨ç”Ÿæˆçš„å‡ ä½•æ•°æ®åˆ›å»º `THREE.Mesh` (å®ä½“ `MeshPhysicalMaterial` + çº¿æ¡† `LineSegments`)
4. æ¸²æŸ“æ¨¡å¼ï¼šsolid / wireframe / transparent (å¯åˆ‡æ¢)
5. åŠ¨ç”»ï¼šå¯ä» 0Â° é€æ­¥æ—‹è½¬åˆ° 360Â° å±•ç¤ºç”Ÿæˆè¿‡ç¨‹

### 2D ç”»å¸ƒè§†å›¾

`Canvas2D.vue` ä½¿ç”¨åŸç”Ÿ HTML Canvas APIï¼š

- åæ ‡ç³»ï¼šè‡ªåŠ¨è®¡ç®— x/y èŒƒå›´ï¼Œç­‰æ¯”ä¾‹ç¼©æ”¾
- ç½‘æ ¼çº¿ï¼šè‡ªé€‚åº” nice-step ç®—æ³•
- æ›²çº¿ç»˜åˆ¶ï¼šå¯¹æ¯æ¡æ›²çº¿é‡‡æ ·å¹¶è¿çº¿
- åŒºåŸŸå¡«å……ï¼šä¸Šä¸‹è½®å»“å›´æˆåŒºåŸŸï¼ŒåŠé€æ˜å¡«å…… + æ–œçº¿é˜´å½±
- æ—‹è½¬è½´æŒ‡ç¤ºï¼šçº¢è‰²è™šçº¿ + æ—‹è½¬ç®­å¤´å›¾æ ‡
- äº¤äº’ï¼šé¼ æ ‡å·¦é”®æ‹–æ‹½å¹³ç§»ã€è§¦æ‘¸æ”¯æŒ (å•æŒ‡å¹³ç§»ã€åŒæŒ‡ç¼©æ”¾)

---

## SEO ä¸ Meta æ ‡ç­¾ç®¡ç†

é¡¹ç›®å†…ç½®äº†åŠ¨æ€çš„ä¸­è‹±æ–‡ SEO æ”¯æŒï¼Œä¸»è¦é€šè¿‡ `src/composables/useSEO.ts` ç»„åˆå¼å‡½æ•°å®ç°ï¼š

- **åŠ¨æ€æ ‡é¢˜ä¸æè¿°**ï¼šæ ¹æ®å½“å‰è·¯ç”±ï¼ˆ`vue-router`ï¼‰å’Œå½“å‰è¯­è¨€ï¼ˆ`vue-i18n`ï¼‰è‡ªåŠ¨æ›´æ–° `document.title` å’Œ `<meta name="description">`ã€‚
- **åŒè¯­å…³é”®è¯**ï¼šæ ¹æ®å½“å‰è¯­è¨€ç¯å¢ƒåŠ¨æ€æ³¨å…¥å¯¹åº”çš„ `<meta name="keywords">`ã€‚
- **ç¤¾äº¤åª’ä½“å¡ç‰‡**ï¼šè‡ªåŠ¨ç”Ÿæˆ Open Graph (`og:title`, `og:description`, `og:type`, `og:url`) å’Œ Twitter Card (`twitter:card`, `twitter:title`, `twitter:description`) æ ‡ç­¾ï¼Œä¼˜åŒ–ç¤¾äº¤å¹³å°åˆ†äº«æ•ˆæœã€‚
- **HTML è¯­è¨€å±æ€§**ï¼šåŠ¨æ€æ›´æ–° `<html lang="...">` å±æ€§ï¼Œå¸®åŠ©æœç´¢å¼•æ“è¯†åˆ«é¡µé¢è¯­è¨€ã€‚

åœ¨ `src/App.vue` ä¸­å…¨å±€è°ƒç”¨äº† `useSEO()`ï¼Œç¡®ä¿åœ¨æ•´ä¸ªå•é¡µåº”ç”¨ï¼ˆSPAï¼‰çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼ŒSEO æ ‡ç­¾èƒ½å¤Ÿéšè·¯ç”±å’Œè¯­è¨€åˆ‡æ¢å®æ—¶æ›´æ–°ã€‚åŒæ—¶ï¼Œ`index.html` ä¸­ä¹Ÿä¿ç•™äº†åŸºç¡€çš„é™æ€ Meta æ ‡ç­¾ï¼Œä»¥ä¿è¯åœ¨ JavaScript åŠ è½½å‰çš„åŸºç¡€æŠ“å–æ•ˆæœã€‚

---

## æ„å»ºä¸è¿è¡Œ

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¼€å‘æ¨¡å¼ (çƒ­é‡è½½, ç«¯å£ 3000)
pnpm dev

# ç”Ÿäº§æ„å»º (ç±»å‹æ£€æŸ¥ + Vite æ‰“åŒ…)
pnpm build

# é¢„è§ˆæ„å»ºäº§ç‰©
pnpm preview
```

**Vite é…ç½®è¦ç‚¹** (`vite.config.ts`):
- æ’ä»¶ï¼š`@vitejs/plugin-vue` + `@tailwindcss/vite`
- è·¯å¾„åˆ«åï¼š`@` â†’ `src/`
- æ‰‹åŠ¨åˆ†åŒ…ï¼šthree / mathjs / katex / vendor(vue å…¨å®¶æ¡¶) å„è‡ªç‹¬ç«‹ chunk

**Tailwind CSS æ³¨æ„äº‹é¡¹ï¼š**
- Tailwind v4 é…ç½®å‡åœ¨ `style.css` çš„ `@theme` å—ä¸­
- Vue scoped æ ·å¼ä¸­ä½¿ç”¨ `@apply` æ—¶ï¼Œå¿…é¡»åœ¨ `<style scoped>` å—é¡¶éƒ¨æ·»åŠ  `@reference "../style.css"` (è·¯å¾„ç›¸å¯¹äºç»„ä»¶æ–‡ä»¶)ï¼Œå¦åˆ™è‡ªå®šä¹‰ä¸»é¢˜ç±»æ— æ³•è§£æ
- å“åº”å¼æ–­ç‚¹ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ `max-lg:`, `max-md:`, `max-sm:` ç­‰å‰ç¼€

---

## å…³é”®ä¾èµ–è¯´æ˜

| åŒ…å               | ç”¨é€”                                             | å¤‡æ³¨                          |
| ------------------ | ------------------------------------------------ | ----------------------------- |
| `tailwindcss`      | åŸå­åŒ– CSS æ¡†æ¶                                  | v4, é€šè¿‡ `@tailwindcss/vite` é›†æˆ |
| `@tailwindcss/vite`| Tailwind CSS çš„ Vite æ’ä»¶                        | æ›¿ä»£ PostCSS é…ç½®             |
| `mathjs`           | è¡¨è¾¾å¼è§£æã€ç¼–è¯‘ã€å®‰å…¨æ±‚å€¼                        | æ‰“åŒ…ä½“ç§¯è¾ƒå¤§ (~660 KB min)    |
| `three`            | WebGL 3D æ¸²æŸ“                                    | å« OrbitControls æ’ä»¶         |
| `katex`            | åœ¨ç»“æœé¢æ¿ä¸­æ¸²æŸ“ LaTeX æ•°å­¦å…¬å¼                   | æ˜¾ç¤ºç§¯åˆ†å…¬å¼å’Œä½“ç§¯å€¼          |
| `dompurify`        | HTML æ¶ˆæ¯’                                        | ç”¨äºå®‰å…¨æ¸²æŸ“ KaTeX è¾“å‡º       |
| `lucide-vue-next`  | å›¾æ ‡åº“                                           | æŒ‰éœ€ tree-shake              |
| `vue-i18n`         | ä¸­è‹±æ–‡å›½é™…åŒ–                                     | Composition API æ¨¡å¼          |
| `vue-router`       | SPA è·¯ç”±                                         | æ‡’åŠ è½½æ‰€æœ‰é¡µé¢ç»„ä»¶            |
